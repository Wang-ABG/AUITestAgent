
<！文档类型 超文本标记语言 >
< 超文本标记语言 朗 = "应用" >

< >负责人
  <meta charset="UTF-8">

  <title>内容搜索页面</title>
< >风格
    /* 全局样式 */
超文本标记语言，
身体{
高度:100%;
保证金:0;
填充:0;
来源:segoe uii, Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9f9f9;
颜色:# 333;
行高:1.6;
    }

    /* 顶部栏样式 */
标题{
显示:flex;
justify-content:之间的空间;
对齐项目:中心;
Padding: 20px 50px；
      background-color: #fff;
Box-shadow: 0 2px 4px rgba(0,0,0,0.05)；
    }

    .logo {
字体大小:24 px;
粗细:600;
颜色:# 333;
文字修饰:没有;
    }

输入(type = "文本"]{
宽度:50%;
高度:40像素;
Padding: 0 20px；
边框：1px实心#e0e0e0；
      border-radius: 20px;
大纲:没有;
过渡：border-color 0.3s；
字体大小:16 px;
    }

输入(type = "文本"]:专注{
边框颜色:# 007 bff;
    }

    .nickname {
字体大小:16 px;
颜色:# 666;
    }

    /* GitHub 登录按钮样式 */
    .github-login {
      background-color: #24292e;
颜色:白色;
填充：10px 20px；
      border-radius: 5px;
文字修饰:没有;
光标:指针;
    }

    /* 修改入口按钮样式 */
    .modify-entry-btn {
背景色：# 007 bff；
颜色:白色;
填充：10px 20px；
      border-radius: 5px;
文字修饰:没有;
光标:指针;
      margin-left: 20px;
    }

    /* 投稿按钮样式 */
.submit-btn ...
      background-color: #28a745;
颜色:白色;
填充：10px 20px；
      border-radius: 5px;
文字修饰:没有;
光标:指针;
      margin-left: 20px;
    }

    /* 禁用按钮样式 */
    .disabled-btn {
      background-color: #ccc;
光标:不允许;
    }

    /* 分类导航样式 */
    nav {
Padding: 20px 50px；
      background-color: #fff;
Box-shadow: 0 2px 4px rgba(0,0,0,0.05)；
Margin: 10px 0；
    }

    nav ul {
list-style-type:没有;
保证金:0;
填充:0;
显示:flex;
justify-content:空间;
    }

    nav ul li {
光标:指针;
过渡：均为0.3s；
填充：10px 20px；
      border-radius: 20px;
字体大小:16 px;
    }

    nav ul li:hover {
颜色:# 007 bff;
      background-color: #f0f6ff;
    }

    nav ul li.active {
Border: 1px solid rgba(0,123, 255,0.3)；
      background-color: #f0f6ff;
颜色:# 007 bff;
Box-shadow: 0 0 5px rgba(0,123, 255, 0.2)；
    }

    /* 当前位置显示样式 */
#当前位置{
Padding: 20px 50px；
字体大小:14 px;
      color: #666;
    }

    /* 主容器样式 */
    .main-container {
      display: flex;
      height: calc(100vh - 200px);
    }

    /* 侧边栏样式 */
    aside {
      width: 20%;
      background-color: #fff;
      padding: 30px;
      box-shadow: 2px 0 4px rgba(0, 0, 0, 0.05);
      overflow-y: auto;
    }

    aside ul {
      list-style-type: none;
      margin: 0;
      padding: 0;
    }

    aside ul li {
      margin-bottom: 20px;
      cursor: pointer;
      padding: 10px 15px;
      border-radius: 10px;
      transition: background-color 0.3s;
      font-size: 16px;
    }

    aside ul li:hover {
      background-color: #f0f6ff;
    }

    aside ul li.active {
      border: 1px solid rgba(0, 123, 255, 0.3);
      background-color: #f0f6ff;
      color: #007BFF;
      box-shadow: 0 0 5px rgba(0, 123, 255, 0.2);
    }

    /* 内容展示区样式 */
    .content {
      width: 80%;
      padding: 30px;
      display: flex;
      flex-wrap: wrap;
      overflow-y: auto;
    }

    .item {
      width: calc(33.33% - 20px);
      height: 200px;
      border: none;
      margin: 10px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
      display: flex;
      justify-content: center;
      align-items: center;
      transition: all 0.3s;
      background-color: #fff;
      font-size: 18px;
    }

    .item:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
    }

    /* 修改模态框样式 */
    .modal {
      display: none;
      position: fixed;
      z-index: 1;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.4);
    }

    .modal-content {
      background-color: #fefefe;
      margin: 10% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
      max-width: 600px;
      border-radius: 10px;
    }

    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }

    .close:hover,
    .close:focus {
      color: black;
      text-decoration: none;
      cursor: pointer;
    }

    /* 列表项样式 */
    .list-item {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .list-item input {
      margin-right: 10px;
    }

.list-item按钮{
      margin-left: 10px;
    }

    /* 投稿模态框样式 */
    #submit-modal .modal-content {
      max-width: 800px;
    }

    #submit-modal label {
      display: block;
      margin-bottom: 5px;
    }

    #submit-modal input,
    #submit-modal textarea {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    #submit-modal select {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
  </style>
</head>

<body>
  <!-- 顶部栏 -->
  <header>
    <div class="logo">LOGO</div>
    <form>
      <input type="text" placeholder="搜索">
    </form>
    <!-- GitHub 登录按钮 -->
    <a href="https://github.com/login/oauth/authorize?client_id=Ov23li4z3vORotr2d859&b9f3d991f71a7f6b97993e8ef6049f9b5d83f244=https://wang - abg.github.io/AUITestAgent/callback.html&scope=user"
      class="github-login" id="github-login-btn">GitHub 登录</a>
    <!-- 修改入口按钮 -->
    <button class="modify-entry-btn" onclick="openModifyModal()" id="modify-entry-btn" disabled>修改设置</button>
    <!-- 投稿按钮 -->
    <button class="submit-btn" onclick="openSubmitModal()" id="submit-btn" disabled>投稿</button>
    <div class="nickname">昵称</div>
  </header>

  <!-- 当前位置显示 -->
  <div id="current-location">当前位置：文学 - 视频</div>

  <!-- 分类导航 -->
  <nav>
    <ul id="category-nav">
      <li onclick="navigateToCategory('文学', this)" class="active">文学</li>
      <li onclick="navigateToCategory('数学', this)">数学</li>
      <li onclick="navigateToCategory('编程', this)">编程</li>
      <li onclick="navigateToCategory('历史', this)">历史</li>
      <li onclick="navigateToCategory('哲学', this)">哲学</li>
      <li onclick="navigateToCategory('政治', this)">政治</li>
    </ul>
  </nav>

  <!-- 侧边栏和内容展示区 -->
  <div class="main-container">
    <!-- 侧边栏 -->
    <aside id="sidebar">
      <ul id="content-type-list">
        <li onclick="navigateToContent('视频', this)" class="active">视频</li>
        <li onclick="navigateToContent('文章', this)">文章</li>
        <li onclick="navigateToContent('教程', this)">教程</li>
        <li onclick="navigateToContent('课程', this)">课程</li>
        <li onclick="navigateToContent('文件', this)">文件</li>
        <li onclick="navigateToContent('源码', this)">源码</li>
        <li onclick="navigateToContent('笔记', this)">笔记</li>
        <li onclick="navigateToContent('AI知音', this)">AI知音</li>
        <li onclick="navigateToContent('书籍', this)">书籍</li>
        <li onclick="navigateToContent('论坛', this)">论坛</li>
        <li onclick="navigateToContent('群聊', this)">群聊</li>
        <li onclick="navigateToContent('购物', this)">购物</li>
      </ul>
    </aside>

    <!-- 内容展示区 -->
    <section class="content" id="content">
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
    </section>
  </div>

  <!-- 修改模态框 -->
  <div id="modify-modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModifyModal()">&times;</span>
      <h2>修改设置</h2>
      <h3>横坐标（分类）</h3>
      <div id="category-list"></div>
      <button onclick="addCategoryInModal()">添加分类</button>
      <h3>纵坐标（内容类型）</h3>
      <div id="content-type-modal-list"></div>
      <button onclick="addContentTypeInModal()">添加内容类型</button>
      <button onclick="saveChanges()">保存修改</button>
    </div>
  </div>

  <!-- 投稿模态框 -->
  <div id="submit-modal" class="modal">
< div class = "模式内容" >
      <span class="close" onclick="closeSubmitModal()">&times;</span>
      <h2>投稿</h2>
      <label for="title">标题:</label>
      <input type="text" id="title" placeholder="请输入文章标题">
      <label for="content">内容:</label>
      <textarea id="content" placeholder="请输入文章内容"></textarea>
      <label for="category">分类:</label>
      <select id="category"></select>
      <label for="content-type">内容类型:</label>
      <select id="content-type"></select>
      <button onclick="submitArticle()">提交</button>
    </div>
  </div>

  <script>
    let currentCategory = '文学';
    let currentContentType = '视频';
    let categoryList = [];
    let contentTypeList = [];
    let isLoggedIn = false;
    // 模拟每个分类和内容类型组合下的内容数量
    let contentCount = {};
    // 存储投稿文章
    let articles = JSON.parse(localStorage.getItem('articles')) || [];

    function navigateToCategory(category, element) {
      currentCategory = category;
      console.log(`切换到 ${category} 分类`);
      const navItems = document.querySelectorAll('nav ul li');
      navItems.forEach(item => {
        item.classList.remove('active');
      });
      element.classList.add('active');
      const sidebarItems = document.querySelectorAll('aside ul li');
      sidebarItems.forEach(item => {
        item.classList.remove('active');
      });
      sidebarItems[0].classList.add('active');
      navigateToContent('视频', sidebarItems[0]);
      updateLocationDisplay();
    }

    function navigateToContent(contentType, element) {
      currentContentType = contentType;
      const contentSection = document.getElementById('content');
      contentSection.innerHTML = '';
      for (let i = 0; i < 8; i++) {
        const item = document.createElement('div');
        item.classList.add('item');
        item.textContent = `${currentCategory} - ${contentType} 推荐 ${i + 1}`;
        contentSection.appendChild(item);
      }
      // 更新内容数量
      const key = `${currentCategory}-${currentContentType}`;
      if (!contentCount[key]) {
        contentCount[key] = 8;
      }
      const sidebarItems = document.querySelectorAll('aside ul li');
      sidebarItems.forEach(item => {
        item.classList.remove('active');
      });
      element.classList.add('active');
      updateLocationDisplay();
    }

    function updateLocationDisplay() {
      const locationElement = document.getElementById('current-location');
      locationElement.textContent = `当前位置：${currentCategory} - ${currentContentType}`;
    }

    // 初始化显示文学 - 视频推荐
    navigateToContent('视频', document.querySelector('aside ul li'));

    // 处理 GitHub 回调
    const urlParams = new URLSearchParams(window.location.search);
    const code = urlParams.get('code');
    if (code) {
      // 这里需要使用后端代码换取访问令牌
      console.log('获取到授权码:', code);
      isLoggedIn = true;
      document.getElementById('github-login-btn').style.display = 'none';
      document.getElementById('modify-entry-btn').disabled = false;
      document.getElementById('modify-entry-btn').classList.remove('disabled-btn');
      document.getElementById('submit-btn').disabled = false;
      document.getElementById('submit-btn').classList.remove('disabled-btn');
    }

    // 打开修改模态框
    function openModifyModal() {
如果（!isLoggedIn） {
        alert('请先登录 GitHub 再进行修改操作。');
返回;
      }
const categoryNav = document.getElementById('category-nav')；
const contentTypeNav = document.getElementById('content-type-list')；
      categoryList = Array.from(categoryNav.children).map(li => li.textContent);
      contentTypeList = Array.from(contentTypeNav.children).map(li => li.textContent);

      const categoryListDiv = document.getElementById('category-list');
      categoryListDiv.innerHTML = '';
      categoryList.forEach((category, index) => {
        const itemDiv = document.createElement('div');
        itemDiv.classList.add('list-item');
        const input = document.createElement('input');
        input.value = category;
        itemDiv.appendChild(input);
        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = '删除';
        deleteBtn.onclick = () => deleteCategoryInModal(index);
        // 检查该分类下是否有内容
        let hasContent = false;
        contentTypeList.forEach(contentType => {
          const key = `${category}-${contentType}`;
          if (contentCount[key] && contentCount[key] > 0) {
            hasContent = true;
          }
        });
        if (hasContent) {
          deleteBtn.disabled = true;
          deleteBtn.classList.add('disabled-btn');
        }
        itemDiv.appendChild(deleteBtn);
        categoryListDiv.appendChild(itemDiv);
      });

      const contentTypeListDiv = document.getElementById('content-type-modal-list');
      contentTypeListDiv.innerHTML = '';
      contentTypeList.forEach((contentType, index) => {
        const itemDiv = document.createElement('div');
        itemDiv.classList.add('list-item');
        const input = document.createElement('input');
        input.value = contentType;
        itemDiv.appendChild(input);
        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = '删除';
        deleteBtn.onclick = () => deleteContentTypeInModal(index);
        // 检查该内容类型下是否有内容
        let hasContent = false;
        categoryList.forEach(category => {
          const key = `${category}-${contentType}`;
          if (contentCount[key] && contentCount[key] > 0) {
            hasContent = true;
          }
        });
        if (hasContent) {
          deleteBtn.disabled = true;
          deleteBtn.classList.add('disabled-btn');
        }
        itemDiv.appendChild(deleteBtn);
        contentTypeListDiv.appendChild(itemDiv);
      });

      document.getElementById('modify-modal').style.display = 'block';
    }

    // 关闭修改模态框
    function closeModifyModal() {
      document.getElementById('modify-modal').style.display = 'none';
    }

    // 添加分类（模态框内）
    function addCategoryInModal() {
      if (!isLoggedIn) {
        alert('请先登录 GitHub 再进行修改操作。');
        return;
      }
      const newCategory = prompt('请输入新的分类名称');
      if (newCategory) {
        categoryList.push(newCategory);
        const categoryListDiv = document.getElementById('category-list');
        const itemDiv = document.createElement('div');
        itemDiv.classList.add('list-item');
        const input = document.createElement('input');
        input.value = newCategory;
        itemDiv.appendChild(input);
        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = '删除';
        deleteBtn.onclick = () => deleteCategoryInModal(categoryList.length - 1);
        itemDiv.appendChild(deleteBtn);
        categoryListDiv.appendChild(itemDiv);
      }
    }

    // 删除分类（模态框内）
    function deleteCategoryInModal(index) {
      if (!isLoggedIn) {
        alert('请先登录 GitHub 再进行修改操作。');
        return;
      }
      const categoryToDelete = categoryList[index];
      // 检查该分类下是否有内容
      let hasContent = false;
      contentTypeList.forEach(contentType => {
        const key = `${categoryToDelete}-${contentType}`;
        if (contentCount[key] && contentCount[key] > 0) {
          hasContent = true;
        }
      });
      if (hasContent) {
        alert('该分类下有内容，禁止删除。');
        return;
      }
      categoryList.splice(index, 1);
      const categoryListDiv = document.getElementById('category-list');
      categoryListDiv.innerHTML = '';
      categoryList.forEach((category, newIndex) => {
        const itemDiv = document.createElement('div');
        itemDiv.classList.add('list-item');
        const input = document.createElement('input');
        input.value = category;
        itemDiv.appendChild(input);
        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = '删除';
        deleteBtn.onclick = () => deleteCategoryInModal(newIndex);
        // 检查该分类下是否有内容
        let hasContent = false;
        contentTypeList.forEach(contentType => {
          const key = `${category}-${contentType}`;
          if (contentCount[key] && contentCount[key] > 0) {
            hasContent = true;
          }
        });
        if (hasContent) {
          deleteBtn.disabled = true;
          deleteBtn.classList.add('disabled-btn');
        }
        itemDiv.appendChild(deleteBtn);
        categoryListDiv.appendChild(itemDiv);
      });
    }

    // 添加内容类型（模态框内）
    function addContentTypeInModal() {
      if (!isLoggedIn) {
        alert('请先登录 GitHub 再进行修改操作。');
        return;
      }
      const newContentType = prompt('请输入新的内容类型名称');
      if (newContentType) {
        contentTypeList.push(newContentType);
        const contentTypeListDiv = document.getElementById('content-type-modal-list');
        const itemDiv = document.createElement('div');
        itemDiv.classList.add('list-item');
        const input = document.createElement('input');
        input.value = newContentType;
        itemDiv.appendChild(input);
        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = '删除';
        deleteBtn.onclick = () => deleteContentTypeInModal(contentTypeList.length - 1);
        itemDiv.appendChild(deleteBtn);
        contentTypeListDiv.appendChild(itemDiv);
      }
    }

    // 删除内容类型（模态框内）
    function deleteContentTypeInModal(index) {
      if (!isLoggedIn) {
        alert('请先登录 GitHub 再进行修改操作。');
        return;
      }
      const contentTypeToDelete = contentTypeList[index];
      // 检查该内容类型下是否有内容
      let hasContent = false;
      categoryList.forEach(category => {
        const key = `${category}-${contentTypeToDelete}`;
        if (contentCount[key] && contentCount[key] > 0) {
          hasContent = true;
        }
      });
      if (hasContent) {
        alert('该内容类型下有内容，禁止删除。');
        return;
      }
      contentTypeList.splice(index, 1);
      const contentTypeListDiv = document.getElementById('content-type-modal-list');
      contentTypeListDiv.innerHTML = '';
      contentTypeList.forEach((contentType, newIndex) => {
        const itemDiv = document.createElement('div');
        itemDiv.classList.add('list-item');
        const input = document.createElement('input');
        input.value = contentType;
        itemDiv.appendChild(input);
        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = '删除';
        deleteBtn.onclick = () => deleteContentTypeInModal(newIndex);
        // 检查该内容类型下是否有内容
        let hasContent = false;
        categoryList.forEach(category => {
          const key = `${category}-${contentType}`;
          if (contentCount[key] && contentCount[key] > 0) {
            hasContent = true;
          }
        });
        if (hasContent) {
          deleteBtn.disabled = true;
          deleteBtn.classList.add('disabled-btn');
        }
        itemDiv.appendChild(deleteBtn);
        contentTypeListDiv.appendChild(itemDiv);
      });
    }

    // 保存修改
    function saveChanges() {
如果（!isLoggedIn） {
        alert('请先登录 GitHub 再进行修改操作。');
        return;
      }
      const categoryNav = document.getElementById('category-nav');
      const contentTypeNav = document.getElementById('content-type-list');
      categoryNav.innerHTML = '';
      contentTypeNav.innerHTML = '';

      categoryList.forEach((category, index) => {
        const li = document.createElement('li');
        li.textContent = category;
        li.onclick = function () {
          navigateToCategory(category, this);
        };
        if (index === 0) {
          li.classList.add('active');
        }
        categoryNav.appendChild(li);
      });

contentTypeList。forEach((contentType, index) => {
        const li = document.createElement('li');
        li.textContent = contentType;
        li.onclick = function () {
          navigateToContent(contentType, this);
        };
        if (index === 0) {
          li.classList.add('active');
        }
        contentTypeNav.appendChild(li);
      });

      closeModifyModal();
    }

    // 打开投稿模态框
    function openSubmitModal() {
如果（!isLoggedIn） {
        alert('请先登录 GitHub 再进行投稿操作。');
返回;
      }
      const categorySelect = document.getElementById('category');
      const contentTypeSelect = document.getElementById('content-type');
      categorySelect.innerHTML = '';
      contentTypeSelect.innerHTML = '';

categoryList。forEach(类别=> {
        const option = document.createElement('option');
        option.value = category;
        option.textContent = category;
        categorySelect.appendChild(option);
      });

      contentTypeList.forEach(contentType => {
        const option = document.createElement('option');
期权。价值=内容类型;
期权。内容=内容类型;
contentTypeSelect.appendChild(选项);
      });

.style . getelementbyid(“submit-modal”)。Display = 'block'；
    }

    // 关闭投稿模态框
    function closeSubmitModal() {
.style . getelementbyid(“submit-modal”)。Display = 'none'；
    }

    // 提交文章
    function submitArticle() {
      if (!isLoggedIn) {
        alert('请先登录 GitHub 再进行投稿操作。');
返回;
      }
      const title = document.getElementById('title').value;
      const content = document.getElementById('content').value;
      const category = document.getElementById('category').value;
      const contentType = document.getElementById('content-type').value;

      if (!title || !content || !category || !contentType) {
        alert('请填写完整的标题、内容、分类和内容类型。');
        return;
      }

Const article = {
        title,
        content,
        category,
        contentType
      };

      articles.push(article);
localStorage。setItem(“文章”,JSON.stringify(文章));

      // 更新内容数量
      const key = `${category}-${contentType}`;
      if (!contentCount[key]) {
        contentCount[key] = 0;
      }
contentCount [key];

      alert('投稿成功！');
      closeSubmitModal();
    }
  </script>
</body>

</html>    


